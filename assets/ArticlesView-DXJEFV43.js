import{c as S,a as u,w as d,u as i,b as e,t as h,n as C,d as A,o as y,R as m,g as T,e as N,f as V,p as k,h as F,_ as B,r as n,i as D,j as O,S as M,l as U,k as R,v as E,m as J,q as g,s as j}from"./index-BgujUwB8.js";/* empty css                                                                */const q=s=>(k("data-v-eef5219d"),s=s(),F(),s),z=["alt","src"],W={class:"article-content-wrapper"},G={class:"article-title-wrapper"},H={class:"article-title"},K={class:"article-meta-wrapper"},P=q(()=>e("span",{class:"article-meta-sep"},"/",-1)),Q=["datetime"],X={class:"article-description"};new Date().getTime();const b={get:s=>JSON.parse(localStorage.getItem(s)),set:(s,t)=>{localStorage.setItem(s,JSON.stringify(t))}},v=s=>(k("data-v-d419dd11"),s=s(),F(),s),Y=v(()=>e("h3",null,"Search for an article",-1)),Z=v(()=>e("p",null,"Begin by typing an article title, tags or related words.",-1)),tt=v(()=>e("br",null,null,-1)),et={class:"articles-filters"},at={class:"button-group"},st=v(()=>e("br",null,null,-1)),lt={key:0,class:"loadmore"},ot=6,rt={__name:"ArticlesView",setup(s){let t=b.get("displayType");j(t)||(t=0),n(t);const r=n(!0),o=n(""),p=n([]),c=n([]),$=n(1);let f=0;function I(a){r.value!=a&&(r.value=a,b.set("newestFirst",a),p.value=[],f=0,w())}async function w(){U(ot,f,null,!r.value).then(a=>{p.value.push(...a.articles),c.value.push(...a.articles),f+=a.articles.length,$.value=a.remaining,L()})}function x(a){for(let l=0;l<g.length;l++)if(g[l].id==a)return g[l].name;return`author #${a} not found`}function L(){c.value=[],p.value.forEach(a=>{(a.title.toLowerCase().includes(o.value.toLowerCase())||a.content.toLowerCase().includes(o.value.toLowerCase())||x(a.author).toLowerCase().includes(o.value.toLowerCase()))&&c.value.push(a)})}return D(async()=>{w()}),(a,l)=>(y(),O(M,null,{default:d(()=>[Y,Z,R(e("input",{"onUpdate:modelValue":l[0]||(l[0]=_=>o.value=_),type:"text",placeholder:"Search for an article...",onInput:L},null,544),[[E,o.value]]),tt,e("div",et,[e("div",at,[e("button",{onClick:l[1]||(l[1]=_=>I(!0)),class:C(`button-small ${r.value==1?"button-active":""}`)}," Newest ",2),e("button",{onClick:l[2]||(l[2]=_=>I(!1)),class:C(`button-small ${r.value==0?"button-active":""}`)}," Oldest ",2)])]),st,u(J,{articles:c.value},null,8,["articles"]),$.value!=0?(y(),S("div",lt,[e("button",{onClick:l[3]||(l[3]=_=>w())},"More Articles")])):A("",!0)]),_:1}))}},ct=B(rt,[["__scopeId","data-v-d419dd11"]]);export{ct as default};
